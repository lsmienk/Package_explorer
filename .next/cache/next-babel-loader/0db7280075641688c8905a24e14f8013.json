{"ast":null,"code":"import fs from 'fs';\nexport default ((req, res) => {\n  // res.statusCode = 200\n  // res.setHeader('Content-Type', 'application/json')\n  // res.end(JSON.stringify({ name: 'John Doe' }))\n  fs.readFile('/Users/lsmienk/status.txt', 'utf8', function (err, data) {\n    const packages = data.split('\\n\\n');\n    const result = packages.reduce((acc, current) => {\n      const pairs = current.split(/(?<=^|[\\r\\n])([A-Z][^:]*): ([^\\r\\n]*(?:[\\r\\n]+(?![A-Z].*:).*)*)/);\n      console.log('pairs', pairs);\n      acc.push(pairs);\n    }, []);\n    console.log(result);\n    res.end('no');\n  });\n});","map":{"version":3,"sources":["/Users/lsmienk/Codam/reaktor_tech_assignment/pages/api/packages.js"],"names":["fs","req","res","readFile","err","data","packages","split","result","reduce","acc","current","pairs","console","log","push","end"],"mappings":"AAAA,OAAOA,EAAP,MAAe,IAAf;AAEA,gBAAe,CAACC,GAAD,EAAMC,GAAN,KAAc;AACzB;AACA;AACA;AAEAF,EAAAA,EAAE,CAACG,QAAH,CAAY,2BAAZ,EAAyC,MAAzC,EAAiD,UAASC,GAAT,EAAcC,IAAd,EAAoB;AACjE,UAAMC,QAAQ,GAAGD,IAAI,CAACE,KAAL,CAAW,MAAX,CAAjB;AACA,UAAMC,MAAM,GAAGF,QAAQ,CAACG,MAAT,CAAgB,CAACC,GAAD,EAAMC,OAAN,KAAkB;AAC7C,YAAMC,KAAK,GAAGD,OAAO,CAACJ,KAAR,CAAc,iEAAd,CAAd;AACAM,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,KAArB;AACAF,MAAAA,GAAG,CAACK,IAAJ,CAASH,KAAT;AACH,KAJc,EAIZ,EAJY,CAAf;AAMAC,IAAAA,OAAO,CAACC,GAAR,CAAYN,MAAZ;AAEAN,IAAAA,GAAG,CAACc,GAAJ,CAAQ,IAAR;AACH,GAXD;AAYH,CAjBD","sourcesContent":["import fs from 'fs'\n\nexport default (req, res) => {\n    // res.statusCode = 200\n    // res.setHeader('Content-Type', 'application/json')\n    // res.end(JSON.stringify({ name: 'John Doe' }))\n\n    fs.readFile('/Users/lsmienk/status.txt', 'utf8', function(err, data) {\n        const packages = data.split('\\n\\n');\n        const result = packages.reduce((acc, current) => {\n            const pairs = current.split(/(?<=^|[\\r\\n])([A-Z][^:]*): ([^\\r\\n]*(?:[\\r\\n]+(?![A-Z].*:).*)*)/);\n            console.log('pairs', pairs);\n            acc.push(pairs);\n        }, []);\n\n        console.log(result);\n\n        res.end('no');\n    })\n}"]},"metadata":{},"sourceType":"module"}